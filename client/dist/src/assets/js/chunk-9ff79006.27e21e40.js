(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ff79006"],{"7f7f":function(t,e,n){var o=n("86cc").f,a=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in a||n("9e1e")&&o(a,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"7fa3":function(t,e,n){"use strict";var o=n("ab44"),a=n.n(o);a.a},a55b:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"login"}},[n("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("input",{staticClass:"form-control",attrs:{type:"email",placeholder:"E-mail",name:"email",required:""}}),n("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",name:"senha",required:""}}),n("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Entrar")])])])},a=[],r=(n("7f7f"),n("ac6a"),n("fee7")),i=n.n(r),c={name:"Login",data:function(){return{user:null,pass:null}},methods:{login:function(t){var e=this,n={},o=null;t.currentTarget.querySelectorAll("input").forEach(function(t){n[t.name]=t.value}),i.a.setHeaders("POST",n,!0),o=i.a.login(),o.then(function(t){t&&(t.token?(i.a.token=t.token,localStorage.setItem("epp_usr_tk",t.token),localStorage.setItem("epp_usr_name",t.nome),localStorage.setItem("epp_usr_email",t.email),localStorage.setItem("epp_usr_cod",t.codigo),e.$router.push("/")):alert(t.msg))})}}},s=c,l=(n("7fa3"),n("2877")),u=Object(l["a"])(s,o,a,!1,null,null,null);e["default"]=u.exports},ab44:function(t,e,n){},ac6a:function(t,e,n){for(var o=n("cadf"),a=n("0d58"),r=n("2aba"),i=n("7726"),c=n("32e9"),s=n("84f2"),l=n("2b4c"),u=l("iterator"),p=l("toStringTag"),f=s.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(g),d=0;d<m.length;d++){var h,S=m[d],L=g[S],v=i[S],k=v&&v.prototype;if(k&&(k[u]||c(k,u,f),k[p]||c(k,p,S),s[S]=f,L))for(h in o)k[h]||r(k,h,o[h],!0)}},fee7:function(t,e){var n={api:"https://epp2019.herokuapp.com",token:localStorage.getItem("epp_usr_tk"),options:null,setHeaders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new Headers;a.append("Content-type","application/json;charset=UTF-8"),o||a.append("Authorization","Bearer "+n.token),n.options={method:t,headers:a},e&&(n.options.body=JSON.stringify(e))},connect:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,e).then(function(t){switch(t.status){case 401:localStorage.removeItem("epp_usr_tk"),localStorage.removeItem("epp_usr_name"),localStorage.removeItem("epp_usr_email"),window.location="/login";break;case 400:window.location="/400";break;case 500:window.location="/500";break}return t.json()}).catch(function(t){return console.log("An error ocurred in your fetch request: "+t.message)})},login:function(){return n.connect(n.api+"/cliente/login",n.options)},getCliente:function(t){return n.connect(n.api+"/cliente/"+t,n.options)},getAtracoes:function(){return n.connect(n.api+"/cms/atracao",n.options)},getAtracao:function(t){return n.connect(n.api+"/atracao/"+t,n.options)},getCategorias:function(){return n.connect(n.api+"/categoria",n.options)},getCategoria:function(t){return n.connect(n.api+"/categoria/"+t,n.options)},salvaAvaliacao:function(){return n.connect(n.api+"/avaliacao/",n.options)}};t.exports=n}}]);
//# sourceMappingURL=chunk-9ff79006.27e21e40.js.map