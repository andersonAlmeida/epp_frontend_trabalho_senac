(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8156500"],{"2e77":function(t,a){var e={api:"https://epp2019.herokuapp.com/cms",token:localStorage.getItem("epp_adm_tk"),options:null,setHeaders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new Headers;o.append("Content-type","application/json;charset=UTF-8"),n||o.append("Authorization","Bearer "+e.token),e.options={method:t,headers:o},a&&(e.options.body=JSON.stringify(a))},connect:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,a).then(function(t){switch(t.status){case 401:localStorage.removeItem("epp_adm_tk"),localStorage.removeItem("epp_adm_name"),localStorage.removeItem("epp_adm_email"),window.location="/login";break;case 400:window.location="/400";break;case 500:window.location="/500";break}return t.json()}).catch(function(t){return console.log("An error ocurred in your fetch request: "+t.message)})},login:function(){return e.connect(e.api+"/admin/login",e.options)},getAtracoes:function(){return e.connect(e.api+"/atracao",e.options)},getAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},updateAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},salvaAtracao:function(){return e.connect(e.api+"/atracao/",e.options)},deletaAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},getCategorias:function(){return e.connect(e.api+"/categoria",e.options)},getCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)},updateCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)},salvaCategoria:function(){return e.connect(e.api+"/categoria/",e.options)},deletaCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)}};t.exports=e},9511:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"animated fadeIn"},[e("h2",[t._v("Atrações")]),e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Striped Table\n          ")])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive-sm"},[e("table",{staticClass:"table b-table table-striped"},[e("thead",[e("th",[t._v("Nome")]),e("th",[t._v("Categoria")]),e("th",[t._v("Editar")])]),e("tbody",t._l(t.items,function(a){return e("tr",t._b({},"tr",t.items,!1),[e("td",[t._v(t._s(a?a.nome:""))]),e("td",[t._v(t._s(a?a.categoria.nome:""))]),e("td",[e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Editar atração",params:{id:a.cod_atracao}}}},[e("i",{staticClass:"fa fa-pencil"})]),e("button",{staticClass:"btn btn-danger",attrs:{id:a.cod_atracao},on:{click:t.removeAtracao}},[e("i",{staticClass:"fa fa-close"})])],1)])}),0)])])])])])],1)],1)},o=[],r=e("2e77"),i=e.n(r),c={name:"atracoes",data:function(){return{items:null}},created:function(){this.buscaAtracoes()},methods:{buscaAtracoes:function(){var t=this;i.a.setHeaders();var a=i.a.getAtracoes();a.then(function(a){t.items=a})},removeAtracao:function(t){confirm("Você tem certeza que deseja excluir está atração?")&&(i.a.setHeaders("DELETE"),i.a.deletaAtracao(t.currentTarget.id))}}},s=c,l=e("2877"),u=Object(l["a"])(s,n,o,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-c8156500.80376fd3.js.map