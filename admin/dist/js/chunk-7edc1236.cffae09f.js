(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7edc1236"],{"2e77":function(t,a){var e={api:"https://epp2019.herokuapp.com/cms",token:localStorage.getItem("epp_adm_tk"),options:null,setHeaders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Headers;n.append("Content-type","application/json;charset=UTF-8"),o||n.append("Authorization","Bearer "+e.token),e.options={method:t,headers:n},a&&(e.options.body=JSON.stringify(a))},connect:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,a).then(function(t){switch(t.status){case 401:localStorage.removeItem("epp_adm_tk"),localStorage.removeItem("epp_adm_name"),localStorage.removeItem("epp_adm_email"),window.location="/login";break;case 400:window.location="/400";break;case 500:window.location="/500";break}return t.json()}).catch(function(t){return console.log("An error ocurred in your fetch request: "+t.message)})},login:function(){return e.connect(e.api+"/admin/login",e.options)},getAtracoes:function(){return e.connect(e.api+"/atracao",e.options)},getAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},updateAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},salvaAtracao:function(){return e.connect(e.api+"/atracao/",e.options)},deletaAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},getCategorias:function(){return e.connect(e.api+"/categoria",e.options)},getCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)},updateCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)},salvaCategoria:function(){return e.connect(e.api+"/categoria/",e.options)},deletaCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)}};t.exports=e},b3a6:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"animated fadeIn"},[e("h2",[t._v("Categorias")]),e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Striped Table\n          ")])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive-sm"},[e("table",{staticClass:"table b-table table-striped"},[e("thead",[e("th",[t._v("Nome")]),e("th",[t._v("Editar")])]),e("tbody",t._l(t.items,function(a){return e("tr",t._b({},"tr",t.items,!1),[e("td",[t._v(t._s(a?a.nome:""))]),e("td",[e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Editar categoria",params:{id:a.cod_atracao_categoria}}}},[e("i",{staticClass:"fa fa-pencil"})]),e("button",{staticClass:"btn btn-danger",attrs:{id:a.cod_atracao_categoria},on:{click:t.removeCategoria}},[e("i",{staticClass:"fa fa-close"})])],1)])}),0)])])])])])],1)],1)},n=[],i=e("2e77"),r=e.n(i),c={name:"categorias",data:function(){return{items:null}},created:function(){this.buscaCategorias()},methods:{buscaCategorias:function(){var t=this;r.a.setHeaders();var a=r.a.getCategorias();a.then(function(a){t.items=a})},removeCategoria:function(t){confirm("Você tem certeza que deseja excluir está categoria?")&&(r.a.setHeaders("DELETE"),r.a.deletaCategoria(t.currentTarget.id),location.reload())}}},s=c,l=e("2877"),u=Object(l["a"])(s,o,n,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-7edc1236.cffae09f.js.map