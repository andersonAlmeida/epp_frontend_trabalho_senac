(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e94902f"],{"2e77":function(t,a){var e={api:"https://epp2019.herokuapp.com/cms",token:localStorage.getItem("epp_adm_tk"),options:null,setHeaders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new Headers;o.append("Content-type","application/json;charset=UTF-8"),n||o.append("Authorization","Bearer "+e.token),e.options={method:t,headers:o},a&&(e.options.body=JSON.stringify(a))},connect:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,a).then(function(t){switch(t.status){case 401:localStorage.removeItem("epp_adm_tk"),localStorage.removeItem("epp_adm_name"),localStorage.removeItem("epp_adm_email"),window.location="/login";break;case 400:window.location="/400";break;case 500:window.location="/500";break}return t.json()}).catch(function(t){return console.log("An error ocurred in your fetch request: "+t.message)})},login:function(){return e.connect(e.api+"/admin/login",e.options)},getAtracoes:function(){return e.connect(e.api+"/atracao",e.options)},getAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},updateAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},salvaAtracao:function(){return e.connect(e.api+"/atracao/",e.options)},deletaAtracao:function(t){return e.connect(e.api+"/atracao/"+t,e.options)},getCategorias:function(){return e.connect(e.api+"/categoria",e.options)},getCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)},updateCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)},salvaCategoria:function(){return e.connect(e.api+"/categoria/",e.options)},deletaCategoria:function(t){return e.connect(e.api+"/categoria/"+t,e.options)}};t.exports=e},"7f7f":function(t,a,e){var n=e("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in o||e("9e1e")&&n(o,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"8b48":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app flex-row align-items-center"},[e("div",{staticClass:"container"},[e("b-row",{staticClass:"justify-content-center"},[e("b-col",{attrs:{md:"8"}},[e("b-card-group",[e("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[e("b-card-body",[e("form",{attrs:{method:"POST"},on:{submit:function(a){return a.preventDefault(),t.login(a)}}},[e("h1",[t._v("Login")]),e("p",{staticClass:"text-muted"},[t._v("Acessar Ã¡rea administrativa")]),e("b-input-group",{staticClass:"mb-3"},[e("b-input-group-prepend",[e("b-input-group-text",[e("i",{staticClass:"icon-user"})])],1),e("b-form-input",{staticClass:"form-control",attrs:{type:"email",placeholder:"E-mail",name:"email",required:""}})],1),e("b-input-group",{staticClass:"mb-4"},[e("b-input-group-prepend",[e("b-input-group-text",[e("i",{staticClass:"icon-lock"})])],1),e("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",name:"senha",required:""}})],1),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("b-button",{staticClass:"px-4",attrs:{variant:"primary",type:"submit"}},[t._v("Entrar")])],1),e("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[e("b-button",{staticClass:"px-0",attrs:{variant:"link"}},[t._v("Forgot password?")])],1)],1)],1)])],1),e("b-card",{staticClass:"text-white bg-primary py-5 d-md-down-none",staticStyle:{width:"44%"},attrs:{"no-body":""}},[e("b-card-body",{staticClass:"text-center"},[e("div",[e("h2",[t._v("Sign up")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")]),e("b-button",{staticClass:"active mt-3",attrs:{variant:"primary"}},[t._v("Register Now!")])],1)])],1)],1)],1)],1)],1)])},o=[],r=(e("7f7f"),e("ac6a"),e("2e77")),i=e.n(r),c={name:"Login",data:function(){return{user:null,pass:null}},methods:{login:function(t){var a=this,e={},n=null;t.currentTarget.querySelectorAll("input").forEach(function(t){e[t.name]=t.value}),i.a.setHeaders("POST",e,!0),n=i.a.login(),n.then(function(t){t&&(i.a.token=t.token,localStorage.setItem("epp_adm_tk",t.token),localStorage.setItem("epp_adm_name",t.nome),localStorage.setItem("epp_adm_email",t.email),setTimeout(function(){a.$router.push("/atracoes")},1e3))})}}},s=c,u=e("2877"),p=Object(u["a"])(s,n,o,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-0e94902f.b778541b.js.map